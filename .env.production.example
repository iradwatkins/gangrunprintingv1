# Production Environment Variables for GangRun Printing
# Copy this to .env.production and update with actual values

# ===========================================
# DOMAIN CONFIGURATION
# ===========================================
DOMAIN=gangrunprinting.com
NEXTAUTH_URL=https://gangrunprinting.com
NEXT_PUBLIC_BASE_URL=https://gangrunprinting.com

# ===========================================
# DATABASE (via Dokploy PostgreSQL Service)
# ===========================================
# Format: postgresql://username:password@host:port/database
# Note: 'postgres' is the internal Docker network hostname
DATABASE_URL=postgresql://gangrun_user:CHANGE_THIS_PASSWORD@postgres:5432/gangrun_db

# ===========================================
# AUTHENTICATION (Auth.js v5)
# ===========================================
# Generate with: openssl rand -base64 32
AUTH_SECRET=GENERATE_32_CHAR_RANDOM_STRING_HERE
AUTH_TRUST_HOST=true

# Google OAuth (Production)
AUTH_GOOGLE_ID=YOUR_PRODUCTION_GOOGLE_OAUTH_CLIENT_ID
AUTH_GOOGLE_SECRET=YOUR_PRODUCTION_GOOGLE_OAUTH_CLIENT_SECRET

# ===========================================
# PAYMENT PROCESSING (Square)
# ===========================================
SQUARE_ACCESS_TOKEN=YOUR_PRODUCTION_SQUARE_ACCESS_TOKEN
SQUARE_ENVIRONMENT=production
SQUARE_LOCATION_ID=YOUR_SQUARE_LOCATION_ID
SQUARE_APPLICATION_ID=YOUR_SQUARE_APPLICATION_ID

# ===========================================
# FILE STORAGE (MinIO via Dokploy)
# ===========================================
MINIO_ENDPOINT=minio
MINIO_PORT=9000
MINIO_USE_SSL=false
MINIO_ACCESS_KEY=gangrun_minio
MINIO_SECRET_KEY=CHANGE_THIS_PASSWORD
MINIO_BUCKET_NAME=gangrun-files
MINIO_REGION=us-east-1

# ===========================================
# EMAIL SERVICE (SendGrid)
# ===========================================
SENDGRID_API_KEY=YOUR_SENDGRID_API_KEY
SENDGRID_FROM_EMAIL=support@gangrunprinting.com
SENDGRID_FROM_NAME=GangRun Printing
SENDGRID_VERIFIED_DOMAIN=gangrunprinting.com

# ===========================================
# WORKFLOW AUTOMATION (N8N via Dokploy)
# ===========================================
N8N_WEBHOOK_URL=https://n8n.agistaffers.com/webhook/gangrun
N8N_API_KEY=GENERATE_N8N_API_KEY

# ===========================================
# AI CHAT SUPPORT (Ollama via Dokploy)
# ===========================================
OLLAMA_URL=http://ollama:11434
OLLAMA_MODEL=llama3
OLLAMA_ENABLED=true

# ===========================================
# PUSH NOTIFICATIONS
# ===========================================
# Generate with: npx web-push generate-vapid-keys
NEXT_PUBLIC_VAPID_PUBLIC_KEY=GENERATE_NEW_VAPID_PUBLIC_KEY
VAPID_PRIVATE_KEY=GENERATE_NEW_VAPID_PRIVATE_KEY
VAPID_SUBJECT=mailto:support@gangrunprinting.com

# ===========================================
# APPLICATION SETTINGS
# ===========================================
NODE_ENV=production
NEXT_PUBLIC_NODE_ENV=production
NEXT_TELEMETRY_DISABLED=1

# Timezone
TZ=America/Chicago

# Admin Configuration
ADMIN_EMAIL=iradwatkins@gmail.com
ADMIN_NAME=Ira Watkins

# ===========================================
# SECURITY HEADERS
# ===========================================
CONTENT_SECURITY_POLICY=default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://accounts.google.com; style-src 'self' 'unsafe-inline'; img-src 'self' data: https: blob:; font-src 'self' data:; connect-src 'self' https://api.square.com https://connect.squareup.com https://accounts.google.com;
X_FRAME_OPTIONS=DENY
X_CONTENT_TYPE_OPTIONS=nosniff
REFERRER_POLICY=strict-origin-when-cross-origin

# ===========================================
# RATE LIMITING
# ===========================================
RATE_LIMIT_WINDOW=60000
RATE_LIMIT_MAX_REQUESTS=100

# ===========================================
# MONITORING (Optional)
# ===========================================
# SENTRY_DSN=YOUR_SENTRY_DSN
# SENTRY_ENVIRONMENT=production
# SENTRY_TRACES_SAMPLE_RATE=0.1