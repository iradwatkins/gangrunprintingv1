
================================================================================
🔬 ULTRA-THINK CRUD VERIFICATION TEST - RUNNING 3 ROUNDS
================================================================================

[2025-10-16T02:55:57.375Z] 🧪 

################################################################################
[2025-10-16T02:55:57.375Z] 🧪 STARTING TEST CYCLE 1 OF 3
[2025-10-16T02:55:57.375Z] 🧪 ################################################################################
[2025-10-16T02:55:57.376Z] 🧪 
================================================================================
[2025-10-16T02:55:57.376Z] 🧪 TEST ROUND 1: CREATE PRODUCT WITH IMAGES
[2025-10-16T02:55:57.376Z] 🧪 ================================================================================
[2025-10-16T02:55:57.376Z] 🧪 
Step 1: Gathering test data...
[2025-10-16T02:55:57.376Z] 🗄️ Getting test category...
[2025-10-16T02:55:57.378Z] 🗄️ Getting test paper stock set...
[2025-10-16T02:55:57.378Z] 🗄️ Getting test quantity group...
[2025-10-16T02:55:57.378Z] 🗄️ Getting test size group...
[2025-10-16T02:55:57.378Z] 🗄️ Getting test turnaround time set...
[2025-10-16T02:55:57.450Z] ✅ Using paper stock set: Gangrun General paper stock (5f35fd87-5e0c-4c1a-a484-c04191143763)
[2025-10-16T02:55:57.458Z] ✅ Using category: Flyer (cat_flyer)
[2025-10-16T02:55:57.459Z] ✅ Using quantity group: Standard Size (cmg5i6poy000094pu856umjxa)
[2025-10-16T02:55:57.459Z] ✅ Using size group: Rip Door Hanger (e09178db-2371-40df-8faf-1a29b6c21675)
[2025-10-16T02:55:57.462Z] ✅ Using turnaround time set: Standard Turnaround Options (cmg46sc7u001k12ymd9w3p9uk)
[2025-10-16T02:55:57.462Z] 🧪 
Step 2: Creating test images...
[2025-10-16T02:55:57.462Z] 🖼️ Creating test image 1 for UltraTest Product Round 1 1760583357462...
[2025-10-16T02:55:57.465Z] ✅ Created image: 11621b9e-c627-48a0-a0eb-07d15bacfe92
[2025-10-16T02:55:57.465Z] 🖼️ Creating test image 2 for UltraTest Product Round 1 1760583357462...
[2025-10-16T02:55:57.466Z] ✅ Created image: fe26d7e9-3679-4d34-9998-435c9527fa91
[2025-10-16T02:55:57.466Z] ✅ Created 2 test images
[2025-10-16T02:55:57.466Z] 🧪 
Step 3: Creating product...
[2025-10-16T02:55:57.470Z] ✅ Created product: bbc35886-ca0f-4845-abc2-be49fb948be5
[2025-10-16T02:55:57.470Z] 🧪 
Step 4: Linking paper stock set...
[2025-10-16T02:55:57.473Z] ✅ Linked paper stock set
[2025-10-16T02:55:57.473Z] 🧪 
Step 5: Linking quantity group...
[2025-10-16T02:55:57.476Z] ✅ Linked quantity group
[2025-10-16T02:55:57.476Z] 🧪 
Step 6: Linking size group...
[2025-10-16T02:55:57.478Z] ✅ Linked size group
[2025-10-16T02:55:57.479Z] 🧪 
Step 7: Linking turnaround time set...
[2025-10-16T02:55:57.481Z] ✅ Linked turnaround time set
[2025-10-16T02:55:57.481Z] 🧪 
Step 8: Linking images to product...
[2025-10-16T02:55:57.484Z] ✅ Linked image 1: 11621b9e-c627-48a0-a0eb-07d15bacfe92
[2025-10-16T02:55:57.485Z] ✅ Linked image 2: fe26d7e9-3679-4d34-9998-435c9527fa91
[2025-10-16T02:55:57.485Z] 🧪 
Step 9: Verifying product in database...
[2025-10-16T02:55:57.485Z] 🗄️ Verifying product bbc35886-ca0f-4845-abc2-be49fb948be5 in database...
[2025-10-16T02:55:57.493Z] ✅ Product found: UltraTest Product Round 1 1760583357462
[2025-10-16T02:55:57.494Z] 📝   - SKU: ultratest-1-1760583357466
[2025-10-16T02:55:57.494Z] 📝   - Slug: ultratest-product-1-1760583357466
[2025-10-16T02:55:57.494Z] 📝   - Active: true
[2025-10-16T02:55:57.494Z] 🖼️   - Images: 2
[2025-10-16T02:55:57.494Z] 📝   - Category: Flyer
[2025-10-16T02:55:57.494Z] 📝   - Paper Stock Set: Gangrun General paper stock
[2025-10-16T02:55:57.494Z] 📝   - Quantity Group: Standard Size
[2025-10-16T02:55:57.494Z] 📝   - Size Group: Rip Door Hanger
[2025-10-16T02:55:57.494Z] 🖼️ 
Image Details:
[2025-10-16T02:55:57.494Z] 🖼️   Image 1:
[2025-10-16T02:55:57.494Z] 📝     - ProductImage ID: 29e741a6-5de7-48d7-a062-fe2502d101fc
[2025-10-16T02:55:57.494Z] 📝     - Image ID: 11621b9e-c627-48a0-a0eb-07d15bacfe92
[2025-10-16T02:55:57.494Z] 📝     - Image URL: https://gangrunprinting.com/test-images/product-1.jpg
[2025-10-16T02:55:57.494Z] 📝     - Thumbnail: https://gangrunprinting.com/test-images/product-1-thumb.jpg
[2025-10-16T02:55:57.494Z] 📝     - Primary: true
[2025-10-16T02:55:57.494Z] 📝     - Sort Order: 0
[2025-10-16T02:55:57.494Z] 🖼️   Image 2:
[2025-10-16T02:55:57.494Z] 📝     - ProductImage ID: 66f640c2-4a20-433d-a852-8098fa6a5729
[2025-10-16T02:55:57.494Z] 📝     - Image ID: fe26d7e9-3679-4d34-9998-435c9527fa91
[2025-10-16T02:55:57.494Z] 📝     - Image URL: https://gangrunprinting.com/test-images/product-2.jpg
[2025-10-16T02:55:57.494Z] 📝     - Thumbnail: https://gangrunprinting.com/test-images/product-2-thumb.jpg
[2025-10-16T02:55:57.494Z] 📝     - Primary: false
[2025-10-16T02:55:57.494Z] 📝     - Sort Order: 1
[2025-10-16T02:55:57.494Z] 🧪 
Step 10: Verifying ProductImage links...
[2025-10-16T02:55:57.494Z] 🗄️ Verifying ProductImage links for bbc35886-ca0f-4845-abc2-be49fb948be5...
[2025-10-16T02:55:57.495Z] 🗄️ Found 2 ProductImage records
[2025-10-16T02:55:57.495Z] 🧪 
Step 11: Testing product retrieval...
[2025-10-16T02:55:57.498Z] ✅ Product retrieved successfully
[2025-10-16T02:55:57.498Z] ✅   - Has images: true
[2025-10-16T02:55:57.498Z] ✅   - All images have URLs: true
[2025-10-16T02:55:57.498Z] ✅   - Has primary image: true
[2025-10-16T02:55:58.500Z] 🧪 
================================================================================
[2025-10-16T02:55:58.500Z] 🧪 TEST ROUND 1: EDIT/UPDATE PRODUCT
[2025-10-16T02:55:58.500Z] 🧪 ================================================================================
[2025-10-16T02:55:58.500Z] 🧪 
Step 1: Retrieving product before edit...
[2025-10-16T02:55:58.503Z] ✅ Product found with 2 images
[2025-10-16T02:55:58.503Z] 🧪 
Step 2: Updating product...
[2025-10-16T02:55:58.506Z] ✅ Product updated successfully
[2025-10-16T02:55:58.506Z] 🧪 
Step 3: Verifying images preserved after update...
[2025-10-16T02:55:58.508Z] ✅ Images after update: 2
[2025-10-16T02:55:58.508Z] 🧪 
Step 4: Adding new image to product...
[2025-10-16T02:55:58.508Z] 🖼️ Creating test image 99 for UltraTest Product Round 1 1760583357462...
[2025-10-16T02:55:58.510Z] ✅ Created image: e1059feb-2b6a-4122-b807-56ce90dd4592
[2025-10-16T02:55:58.511Z] ✅ New image added successfully
[2025-10-16T02:55:58.511Z] 🧪 
Step 5: Verifying final image count...
[2025-10-16T02:55:58.513Z] ✅ Final image count: 3 (expected 3)
[2025-10-16T02:55:59.514Z] 🧪 
================================================================================
[2025-10-16T02:55:59.514Z] 🧪 TEST ROUND 1: DELETE PRODUCT
[2025-10-16T02:55:59.514Z] 🧪 ================================================================================
[2025-10-16T02:55:59.514Z] 🧪 
Step 1: Verifying product exists...
[2025-10-16T02:55:59.516Z] ✅ Product found with 3 images
[2025-10-16T02:55:59.516Z] 🧪 
Step 2: Checking ProductImage cleanup...
[2025-10-16T02:55:59.518Z] 📝 ProductImage records before delete: 3
[2025-10-16T02:55:59.518Z] 🧪 
Step 3: Deleting product...
[2025-10-16T02:55:59.525Z] ✅ Product deleted successfully
[2025-10-16T02:55:59.525Z] 🧪 
Step 4: Verifying product is deleted...
[2025-10-16T02:55:59.526Z] ✅ Product deletion verified: true
[2025-10-16T02:55:59.526Z] 🧪 
Step 5: Verifying ProductImage cleanup...
[2025-10-16T02:55:59.527Z] ✅ ProductImage records after delete: 0
[2025-10-16T02:55:59.527Z] ✅ 
Completed test cycle 1
[2025-10-16T02:55:59.527Z] 🧪 

################################################################################
[2025-10-16T02:55:59.527Z] 🧪 STARTING TEST CYCLE 2 OF 3
[2025-10-16T02:55:59.527Z] 🧪 ################################################################################
[2025-10-16T02:55:59.527Z] 🧪 
================================================================================
[2025-10-16T02:55:59.527Z] 🧪 TEST ROUND 2: CREATE PRODUCT WITH IMAGES
[2025-10-16T02:55:59.527Z] 🧪 ================================================================================
[2025-10-16T02:55:59.527Z] 🧪 
Step 1: Gathering test data...
[2025-10-16T02:55:59.527Z] 🗄️ Getting test category...
[2025-10-16T02:55:59.527Z] 🗄️ Getting test paper stock set...
[2025-10-16T02:55:59.527Z] 🗄️ Getting test quantity group...
[2025-10-16T02:55:59.527Z] 🗄️ Getting test size group...
[2025-10-16T02:55:59.527Z] 🗄️ Getting test turnaround time set...
[2025-10-16T02:55:59.528Z] ✅ Using category: Flyer (cat_flyer)
[2025-10-16T02:55:59.528Z] ✅ Using quantity group: Standard Size (cmg5i6poy000094pu856umjxa)
[2025-10-16T02:55:59.529Z] ✅ Using paper stock set: Gangrun General paper stock (5f35fd87-5e0c-4c1a-a484-c04191143763)
[2025-10-16T02:55:59.529Z] ✅ Using size group: Rip Door Hanger (e09178db-2371-40df-8faf-1a29b6c21675)
[2025-10-16T02:55:59.529Z] ✅ Using turnaround time set: Standard Turnaround Options (cmg46sc7u001k12ymd9w3p9uk)
[2025-10-16T02:55:59.529Z] 🧪 
Step 2: Creating test images...
[2025-10-16T02:55:59.529Z] 🖼️ Creating test image 1 for UltraTest Product Round 2 1760583359529...
[2025-10-16T02:55:59.531Z] ✅ Created image: 8d8db990-5b3e-42d2-8c8b-5ef72e1ddd0a
[2025-10-16T02:55:59.531Z] 🖼️ Creating test image 2 for UltraTest Product Round 2 1760583359529...
[2025-10-16T02:55:59.533Z] ✅ Created image: 6daf87ea-7994-455b-94f2-acb108230a0e
[2025-10-16T02:55:59.533Z] ✅ Created 2 test images
[2025-10-16T02:55:59.533Z] 🧪 
Step 3: Creating product...
[2025-10-16T02:55:59.536Z] ✅ Created product: 5d894008-9fe2-47ff-99c7-5584039517de
[2025-10-16T02:55:59.536Z] 🧪 
Step 4: Linking paper stock set...
[2025-10-16T02:55:59.538Z] ✅ Linked paper stock set
[2025-10-16T02:55:59.538Z] 🧪 
Step 5: Linking quantity group...
[2025-10-16T02:55:59.539Z] ✅ Linked quantity group
[2025-10-16T02:55:59.539Z] 🧪 
Step 6: Linking size group...
[2025-10-16T02:55:59.540Z] ✅ Linked size group
[2025-10-16T02:55:59.540Z] 🧪 
Step 7: Linking turnaround time set...
[2025-10-16T02:55:59.542Z] ✅ Linked turnaround time set
[2025-10-16T02:55:59.542Z] 🧪 
Step 8: Linking images to product...
[2025-10-16T02:55:59.544Z] ✅ Linked image 1: 8d8db990-5b3e-42d2-8c8b-5ef72e1ddd0a
[2025-10-16T02:55:59.545Z] ✅ Linked image 2: 6daf87ea-7994-455b-94f2-acb108230a0e
[2025-10-16T02:55:59.545Z] 🧪 
Step 9: Verifying product in database...
[2025-10-16T02:55:59.545Z] 🗄️ Verifying product 5d894008-9fe2-47ff-99c7-5584039517de in database...
[2025-10-16T02:55:59.551Z] ✅ Product found: UltraTest Product Round 2 1760583359529
[2025-10-16T02:55:59.551Z] 📝   - SKU: ultratest-2-1760583359533
[2025-10-16T02:55:59.551Z] 📝   - Slug: ultratest-product-2-1760583359533
[2025-10-16T02:55:59.551Z] 📝   - Active: true
[2025-10-16T02:55:59.551Z] 🖼️   - Images: 2
[2025-10-16T02:55:59.551Z] 📝   - Category: Flyer
[2025-10-16T02:55:59.551Z] 📝   - Paper Stock Set: Gangrun General paper stock
[2025-10-16T02:55:59.551Z] 📝   - Quantity Group: Standard Size
[2025-10-16T02:55:59.551Z] 📝   - Size Group: Rip Door Hanger
[2025-10-16T02:55:59.551Z] 🖼️ 
Image Details:
[2025-10-16T02:55:59.551Z] 🖼️   Image 1:
[2025-10-16T02:55:59.551Z] 📝     - ProductImage ID: c33c329e-a479-453e-8b46-ce8cd4d23a92
[2025-10-16T02:55:59.551Z] 📝     - Image ID: 8d8db990-5b3e-42d2-8c8b-5ef72e1ddd0a
[2025-10-16T02:55:59.551Z] 📝     - Image URL: https://gangrunprinting.com/test-images/product-1.jpg
[2025-10-16T02:55:59.551Z] 📝     - Thumbnail: https://gangrunprinting.com/test-images/product-1-thumb.jpg
[2025-10-16T02:55:59.551Z] 📝     - Primary: true
[2025-10-16T02:55:59.551Z] 📝     - Sort Order: 0
[2025-10-16T02:55:59.551Z] 🖼️   Image 2:
[2025-10-16T02:55:59.551Z] 📝     - ProductImage ID: 27cb3edb-3483-43d7-87ca-173af094a2cc
[2025-10-16T02:55:59.551Z] 📝     - Image ID: 6daf87ea-7994-455b-94f2-acb108230a0e
[2025-10-16T02:55:59.551Z] 📝     - Image URL: https://gangrunprinting.com/test-images/product-2.jpg
[2025-10-16T02:55:59.551Z] 📝     - Thumbnail: https://gangrunprinting.com/test-images/product-2-thumb.jpg
[2025-10-16T02:55:59.551Z] 📝     - Primary: false
[2025-10-16T02:55:59.551Z] 📝     - Sort Order: 1
[2025-10-16T02:55:59.551Z] 🧪 
Step 10: Verifying ProductImage links...
[2025-10-16T02:55:59.551Z] 🗄️ Verifying ProductImage links for 5d894008-9fe2-47ff-99c7-5584039517de...
[2025-10-16T02:55:59.552Z] 🗄️ Found 2 ProductImage records
[2025-10-16T02:55:59.552Z] 🧪 
Step 11: Testing product retrieval...
[2025-10-16T02:55:59.555Z] ✅ Product retrieved successfully
[2025-10-16T02:55:59.555Z] ✅   - Has images: true
[2025-10-16T02:55:59.555Z] ✅   - All images have URLs: true
[2025-10-16T02:55:59.555Z] ✅   - Has primary image: true
[2025-10-16T02:56:00.556Z] 🧪 
================================================================================
[2025-10-16T02:56:00.556Z] 🧪 TEST ROUND 2: EDIT/UPDATE PRODUCT
[2025-10-16T02:56:00.556Z] 🧪 ================================================================================
[2025-10-16T02:56:00.556Z] 🧪 
Step 1: Retrieving product before edit...
[2025-10-16T02:56:00.559Z] ✅ Product found with 2 images
[2025-10-16T02:56:00.559Z] 🧪 
Step 2: Updating product...
[2025-10-16T02:56:00.562Z] ✅ Product updated successfully
[2025-10-16T02:56:00.562Z] 🧪 
Step 3: Verifying images preserved after update...
[2025-10-16T02:56:00.564Z] ✅ Images after update: 2
[2025-10-16T02:56:00.564Z] 🧪 
Step 4: Adding new image to product...
[2025-10-16T02:56:00.564Z] 🖼️ Creating test image 99 for UltraTest Product Round 2 1760583359529...
[2025-10-16T02:56:00.565Z] ✅ Created image: a1bb6fd7-dbe2-4dd5-80ba-5e8221d7a30d
[2025-10-16T02:56:00.566Z] ✅ New image added successfully
[2025-10-16T02:56:00.566Z] 🧪 
Step 5: Verifying final image count...
[2025-10-16T02:56:00.568Z] ✅ Final image count: 3 (expected 3)
[2025-10-16T02:56:01.569Z] 🧪 
================================================================================
[2025-10-16T02:56:01.569Z] 🧪 TEST ROUND 2: DELETE PRODUCT
[2025-10-16T02:56:01.569Z] 🧪 ================================================================================
[2025-10-16T02:56:01.569Z] 🧪 
Step 1: Verifying product exists...
[2025-10-16T02:56:01.572Z] ✅ Product found with 3 images
[2025-10-16T02:56:01.573Z] 🧪 
Step 2: Checking ProductImage cleanup...
[2025-10-16T02:56:01.574Z] 📝 ProductImage records before delete: 3
[2025-10-16T02:56:01.574Z] 🧪 
Step 3: Deleting product...
[2025-10-16T02:56:01.581Z] ✅ Product deleted successfully
[2025-10-16T02:56:01.581Z] 🧪 
Step 4: Verifying product is deleted...
[2025-10-16T02:56:01.582Z] ✅ Product deletion verified: true
[2025-10-16T02:56:01.582Z] 🧪 
Step 5: Verifying ProductImage cleanup...
[2025-10-16T02:56:01.583Z] ✅ ProductImage records after delete: 0
[2025-10-16T02:56:01.583Z] ✅ 
Completed test cycle 2
[2025-10-16T02:56:01.583Z] 🧪 

################################################################################
[2025-10-16T02:56:01.583Z] 🧪 STARTING TEST CYCLE 3 OF 3
[2025-10-16T02:56:01.583Z] 🧪 ################################################################################
[2025-10-16T02:56:01.583Z] 🧪 
================================================================================
[2025-10-16T02:56:01.583Z] 🧪 TEST ROUND 3: CREATE PRODUCT WITH IMAGES
[2025-10-16T02:56:01.583Z] 🧪 ================================================================================
[2025-10-16T02:56:01.583Z] 🧪 
Step 1: Gathering test data...
[2025-10-16T02:56:01.583Z] 🗄️ Getting test category...
[2025-10-16T02:56:01.583Z] 🗄️ Getting test paper stock set...
[2025-10-16T02:56:01.583Z] 🗄️ Getting test quantity group...
[2025-10-16T02:56:01.583Z] 🗄️ Getting test size group...
[2025-10-16T02:56:01.583Z] 🗄️ Getting test turnaround time set...
[2025-10-16T02:56:01.584Z] ✅ Using category: Flyer (cat_flyer)
[2025-10-16T02:56:01.584Z] ✅ Using paper stock set: Gangrun General paper stock (5f35fd87-5e0c-4c1a-a484-c04191143763)
[2025-10-16T02:56:01.584Z] ✅ Using size group: Rip Door Hanger (e09178db-2371-40df-8faf-1a29b6c21675)
[2025-10-16T02:56:01.585Z] ✅ Using quantity group: Standard Size (cmg5i6poy000094pu856umjxa)
[2025-10-16T02:56:01.585Z] ✅ Using turnaround time set: Standard Turnaround Options (cmg46sc7u001k12ymd9w3p9uk)
[2025-10-16T02:56:01.585Z] 🧪 
Step 2: Creating test images...
[2025-10-16T02:56:01.585Z] 🖼️ Creating test image 1 for UltraTest Product Round 3 1760583361585...
[2025-10-16T02:56:01.589Z] ✅ Created image: f59a7cff-c76c-4a97-8de4-f39aa5e8fcd6
[2025-10-16T02:56:01.589Z] 🖼️ Creating test image 2 for UltraTest Product Round 3 1760583361585...
[2025-10-16T02:56:01.592Z] ✅ Created image: 5bb758c1-9493-40bb-829e-b1083fc120c4
[2025-10-16T02:56:01.592Z] ✅ Created 2 test images
[2025-10-16T02:56:01.592Z] 🧪 
Step 3: Creating product...
[2025-10-16T02:56:01.597Z] ✅ Created product: 0c696067-316f-48f7-bf75-6cd20877a9c2
[2025-10-16T02:56:01.597Z] 🧪 
Step 4: Linking paper stock set...
[2025-10-16T02:56:01.599Z] ✅ Linked paper stock set
[2025-10-16T02:56:01.600Z] 🧪 
Step 5: Linking quantity group...
[2025-10-16T02:56:01.602Z] ✅ Linked quantity group
[2025-10-16T02:56:01.602Z] 🧪 
Step 6: Linking size group...
[2025-10-16T02:56:01.604Z] ✅ Linked size group
[2025-10-16T02:56:01.604Z] 🧪 
Step 7: Linking turnaround time set...
[2025-10-16T02:56:01.606Z] ✅ Linked turnaround time set
[2025-10-16T02:56:01.606Z] 🧪 
Step 8: Linking images to product...
[2025-10-16T02:56:01.609Z] ✅ Linked image 1: f59a7cff-c76c-4a97-8de4-f39aa5e8fcd6
[2025-10-16T02:56:01.611Z] ✅ Linked image 2: 5bb758c1-9493-40bb-829e-b1083fc120c4
[2025-10-16T02:56:01.611Z] 🧪 
Step 9: Verifying product in database...
[2025-10-16T02:56:01.611Z] 🗄️ Verifying product 0c696067-316f-48f7-bf75-6cd20877a9c2 in database...
[2025-10-16T02:56:01.622Z] ✅ Product found: UltraTest Product Round 3 1760583361585
[2025-10-16T02:56:01.622Z] 📝   - SKU: ultratest-3-1760583361592
[2025-10-16T02:56:01.622Z] 📝   - Slug: ultratest-product-3-1760583361592
[2025-10-16T02:56:01.622Z] 📝   - Active: true
[2025-10-16T02:56:01.622Z] 🖼️   - Images: 2
[2025-10-16T02:56:01.622Z] 📝   - Category: Flyer
[2025-10-16T02:56:01.622Z] 📝   - Paper Stock Set: Gangrun General paper stock
[2025-10-16T02:56:01.622Z] 📝   - Quantity Group: Standard Size
[2025-10-16T02:56:01.622Z] 📝   - Size Group: Rip Door Hanger
[2025-10-16T02:56:01.622Z] 🖼️ 
Image Details:
[2025-10-16T02:56:01.622Z] 🖼️   Image 1:
[2025-10-16T02:56:01.622Z] 📝     - ProductImage ID: 5e597352-cce5-45af-adf2-5d5d4d31f866
[2025-10-16T02:56:01.622Z] 📝     - Image ID: f59a7cff-c76c-4a97-8de4-f39aa5e8fcd6
[2025-10-16T02:56:01.622Z] 📝     - Image URL: https://gangrunprinting.com/test-images/product-1.jpg
[2025-10-16T02:56:01.622Z] 📝     - Thumbnail: https://gangrunprinting.com/test-images/product-1-thumb.jpg
[2025-10-16T02:56:01.622Z] 📝     - Primary: true
[2025-10-16T02:56:01.622Z] 📝     - Sort Order: 0
[2025-10-16T02:56:01.622Z] 🖼️   Image 2:
[2025-10-16T02:56:01.622Z] 📝     - ProductImage ID: 6274c26d-1af6-48ad-af1a-807419d83a63
[2025-10-16T02:56:01.622Z] 📝     - Image ID: 5bb758c1-9493-40bb-829e-b1083fc120c4
[2025-10-16T02:56:01.622Z] 📝     - Image URL: https://gangrunprinting.com/test-images/product-2.jpg
[2025-10-16T02:56:01.622Z] 📝     - Thumbnail: https://gangrunprinting.com/test-images/product-2-thumb.jpg
[2025-10-16T02:56:01.622Z] 📝     - Primary: false
[2025-10-16T02:56:01.622Z] 📝     - Sort Order: 1
[2025-10-16T02:56:01.622Z] 🧪 
Step 10: Verifying ProductImage links...
[2025-10-16T02:56:01.622Z] 🗄️ Verifying ProductImage links for 0c696067-316f-48f7-bf75-6cd20877a9c2...
[2025-10-16T02:56:01.624Z] 🗄️ Found 2 ProductImage records
[2025-10-16T02:56:01.624Z] 🧪 
Step 11: Testing product retrieval...
[2025-10-16T02:56:01.628Z] ✅ Product retrieved successfully
[2025-10-16T02:56:01.628Z] ✅   - Has images: true
[2025-10-16T02:56:01.628Z] ✅   - All images have URLs: true
[2025-10-16T02:56:01.628Z] ✅   - Has primary image: true
[2025-10-16T02:56:02.629Z] 🧪 
================================================================================
[2025-10-16T02:56:02.629Z] 🧪 TEST ROUND 3: EDIT/UPDATE PRODUCT
[2025-10-16T02:56:02.629Z] 🧪 ================================================================================
[2025-10-16T02:56:02.629Z] 🧪 
Step 1: Retrieving product before edit...
[2025-10-16T02:56:02.632Z] ✅ Product found with 2 images
[2025-10-16T02:56:02.632Z] 🧪 
Step 2: Updating product...
[2025-10-16T02:56:02.635Z] ✅ Product updated successfully
[2025-10-16T02:56:02.635Z] 🧪 
Step 3: Verifying images preserved after update...
[2025-10-16T02:56:02.637Z] ✅ Images after update: 2
[2025-10-16T02:56:02.638Z] 🧪 
Step 4: Adding new image to product...
[2025-10-16T02:56:02.638Z] 🖼️ Creating test image 99 for UltraTest Product Round 3 1760583361585...
[2025-10-16T02:56:02.639Z] ✅ Created image: f74ca0b6-4cd5-4677-ba7b-74ab7ce0a893
[2025-10-16T02:56:02.641Z] ✅ New image added successfully
[2025-10-16T02:56:02.641Z] 🧪 
Step 5: Verifying final image count...
[2025-10-16T02:56:02.643Z] ✅ Final image count: 3 (expected 3)
[2025-10-16T02:56:03.644Z] 🧪 
================================================================================
[2025-10-16T02:56:03.644Z] 🧪 TEST ROUND 3: DELETE PRODUCT
[2025-10-16T02:56:03.644Z] 🧪 ================================================================================
[2025-10-16T02:56:03.644Z] 🧪 
Step 1: Verifying product exists...
[2025-10-16T02:56:03.646Z] ✅ Product found with 3 images
[2025-10-16T02:56:03.646Z] 🧪 
Step 2: Checking ProductImage cleanup...
[2025-10-16T02:56:03.648Z] 📝 ProductImage records before delete: 3
[2025-10-16T02:56:03.648Z] 🧪 
Step 3: Deleting product...
[2025-10-16T02:56:03.654Z] ✅ Product deleted successfully
[2025-10-16T02:56:03.654Z] 🧪 
Step 4: Verifying product is deleted...
[2025-10-16T02:56:03.655Z] ✅ Product deletion verified: true
[2025-10-16T02:56:03.655Z] 🧪 
Step 5: Verifying ProductImage cleanup...
[2025-10-16T02:56:03.656Z] ✅ ProductImage records after delete: 0
[2025-10-16T02:56:03.656Z] ✅ 
Completed test cycle 3
[2025-10-16T02:56:03.656Z] 🧪 

================================================================================
[2025-10-16T02:56:03.656Z] 🧪 📊 FINAL TEST RESULTS
[2025-10-16T02:56:03.656Z] 🧪 ================================================================================
[2025-10-16T02:56:03.656Z] 📝 
Total Tests Run: 60
[2025-10-16T02:56:03.656Z] ✅ ✅ Passed: 60
[2025-10-16T02:56:03.656Z] ❌ ❌ Failed: 0
[2025-10-16T02:56:03.656Z] ⚠️ ⚠️  Warnings: 0
[2025-10-16T02:56:03.656Z] ✅ 
Success Rate: 100.00%
[2025-10-16T02:56:03.657Z] ✅ 
Detailed results saved to: ./test-results-ultrathink-1760583363656.json
[2025-10-16T02:56:03.657Z] 🧪 
================================================================================
[2025-10-16T02:56:03.657Z] 🧪 ROUND-BY-ROUND SUMMARY
[2025-10-16T02:56:03.657Z] 🧪 ================================================================================
[2025-10-16T02:56:03.657Z] ✅ 
Round 1 - CREATE: 11/11 tests passed
[2025-10-16T02:56:03.657Z] ✅ 
Round 1 - EDIT: 5/5 tests passed
[2025-10-16T02:56:03.657Z] ✅ 
Round 1 - DELETE: 4/4 tests passed
[2025-10-16T02:56:03.657Z] ✅ 
Round 2 - CREATE: 11/11 tests passed
[2025-10-16T02:56:03.657Z] ✅ 
Round 2 - EDIT: 5/5 tests passed
[2025-10-16T02:56:03.657Z] ✅ 
Round 2 - DELETE: 4/4 tests passed
[2025-10-16T02:56:03.657Z] ✅ 
Round 3 - CREATE: 11/11 tests passed
[2025-10-16T02:56:03.657Z] ✅ 
Round 3 - EDIT: 5/5 tests passed
[2025-10-16T02:56:03.657Z] ✅ 
Round 3 - DELETE: 4/4 tests passed
[2025-10-16T02:56:03.657Z] 🧪 
================================================================================
[2025-10-16T02:56:03.657Z] 🧪 🎯 FINAL ASSESSMENT
[2025-10-16T02:56:03.657Z] 🧪 ================================================================================
[2025-10-16T02:56:03.657Z] ✅ 
✅ ALL TESTS PASSED! CRUD operations are working correctly.
[2025-10-16T02:56:03.657Z] ✅ ✅ Product creation works
[2025-10-16T02:56:03.657Z] ✅ ✅ Images are saved to database
[2025-10-16T02:56:03.657Z] ✅ ✅ ProductImage links are correct
[2025-10-16T02:56:03.657Z] ✅ ✅ Images are retrieved with products
[2025-10-16T02:56:03.657Z] ✅ ✅ Product updates preserve images
[2025-10-16T02:56:03.657Z] ✅ ✅ Product deletion works
[2025-10-16T02:56:03.662Z] ✅ 
Test execution complete
