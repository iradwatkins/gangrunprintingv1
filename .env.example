# ========================================
# GANGRUN PRINTING - ENVIRONMENT VARIABLES
# ========================================
# Complete configuration guide for development and production
# Last updated: 2025-10-21

# ========================================
# 1. CORE APPLICATION
# ========================================

# Node Environment (development | production | test)
NODE_ENV=development

# Application Port (Docker internal: 3002, host: 3020)
PORT=3002

# Application URLs
NEXT_PUBLIC_APP_URL=http://localhost:3020
NEXT_PUBLIC_BASE_URL=http://localhost:3020
NEXT_PUBLIC_SITE_URL=http://localhost:3020
NEXT_PUBLIC_URL=http://localhost:3020
NEXT_PUBLIC_API_URL=http://localhost:3020/api
NEXT_PUBLIC_DOMAIN=gangrunprinting.com
DOMAIN=gangrunprinting.com
HOSTNAME=localhost

# NextAuth URL (legacy - still used in some routes)
NEXTAUTH_URL=http://localhost:3020

# Tenant Configuration (for multi-tenant features)
NEXT_PUBLIC_TENANT_SLUG=gangrun

# Application Version
NEXT_PUBLIC_APP_VERSION=1.0.0

# ========================================
# 2. DATABASE
# ========================================

# PostgreSQL Connection String
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
# Docker: Use service name 'postgres' as host
DATABASE_URL=postgresql://gangrun:gangrun123@localhost:5435/gangrun_production

# Legacy DB Password variable (deprecated - use DATABASE_URL)
DB_PASSWORD=gangrun123

# ========================================
# 3. AUTHENTICATION & AUTHORIZATION
# ========================================

# Lucia Auth Secret (legacy AUTH_SECRET from NextAuth migration)
AUTH_SECRET=your-random-secret-key-min-32-chars

# Google OAuth Credentials
AUTH_GOOGLE_ID=your-google-client-id.apps.googleusercontent.com
AUTH_GOOGLE_SECRET=GOCSPX-your-google-client-secret
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=GOCSPX-your-google-client-secret
GOOGLE_REDIRECT_URI=http://localhost:3020/api/auth/google/callback
GOOGLE_REFRESH_TOKEN=your-google-refresh-token

# Trust host for authentication
AUTH_TRUST_HOST=true

# Admin Email (for admin user creation and notifications)
ADMIN_EMAIL=iradwatkins@gmail.com

# CRON Secret (for securing scheduled task endpoints)
CRON_SECRET=your-cron-secret-key

# Metrics Authentication Token (for /api/metrics endpoint)
METRICS_AUTH_TOKEN=your-metrics-secret-token

# ========================================
# 4. PAYMENT PROCESSING
# ========================================

# Square Payment Gateway
SQUARE_ACCESS_TOKEN=your-square-access-token
SQUARE_ENVIRONMENT=sandbox
SQUARE_LOCATION_ID=your-square-location-id
SQUARE_APPLICATION_ID=your-square-app-id
SQUARE_WEBHOOK_SIGNATURE_KEY=your-webhook-signature
SQUARE_WEBHOOK_URL=https://gangrunprinting.com/api/webhooks/square

# Square Public Keys (MUST have NEXT_PUBLIC_ prefix for Cash App Pay to work!)
NEXT_PUBLIC_SQUARE_APPLICATION_ID=sq0idp-your-app-id
NEXT_PUBLIC_SQUARE_LOCATION_ID=Lyour-location-id
NEXT_PUBLIC_SQUARE_ENVIRONMENT=sandbox

# PayPal Payment Gateway
PAYPAL_CLIENT_ID=your-paypal-client-id
PAYPAL_CLIENT_SECRET=your-paypal-client-secret
PAYPAL_MODE=sandbox
NEXT_PUBLIC_PAYPAL_CLIENT_ID=your-paypal-client-id

# Stripe (legacy - currently not in use)
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your-stripe-key

# ========================================
# 5. FILE STORAGE (MinIO S3-Compatible)
# ========================================

# MinIO Server Configuration
MINIO_ENDPOINT=localhost
MINIO_PORT=9002
MINIO_USE_SSL=false
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin
MINIO_BUCKET_NAME=gangrun-uploads

# MinIO Public URLs
MINIO_PUBLIC_ENDPOINT=http://localhost:9002
MINIO_PUBLIC_URL=http://localhost:9002/gangrun-uploads

# ========================================
# 6. EMAIL SERVICES
# ========================================

# Resend Email API (primary email provider)
RESEND_API_KEY=re_your-resend-api-key
RESEND_FROM_EMAIL=noreply@gangrunprinting.com

# SendGrid (legacy - deprecated in favor of Resend)
SENDGRID_API_KEY=SG.your-sendgrid-api-key
SENDGRID_FROM_EMAIL=noreply@gangrunprinting.com
SENDGRID_FROM_NAME=GangRun Printing

# ========================================
# 7. SHIPPING PROVIDERS
# ========================================

# FedEx Shipping API
FEDEX_ACCOUNT_NUMBER=your-fedex-account
FEDEX_API_KEY=your-fedex-api-key
FEDEX_SECRET_KEY=your-fedex-secret
FEDEX_API_ENDPOINT=https://apis.fedex.com
FEDEX_TEST_MODE=true

# UPS Shipping API
UPS_USERNAME=your-ups-username
UPS_PASSWORD=your-ups-password
UPS_ACCESS_LICENSE_NUMBER=your-ups-license
UPS_API_ENDPOINT=https://onlinetools.ups.com/api
UPS_TEST_MODE=true

# Southwest Cargo Custom Integration
SOUTHWEST_CARGO_API_KEY=your-southwest-api-key
SOUTHWEST_CARGO_RATE_PER_POUND=2.50
SOUTHWEST_CARGO_MINIMUM_CHARGE=25.00

# ========================================
# 8. REDIS CACHE
# ========================================

# Redis Configuration (for session storage and caching)
REDIS_HOST=localhost
REDIS_PORT=6302
REDIS_PASSWORD=your-redis-password
REDIS_DB=0

# ========================================
# 9. WORKFLOW AUTOMATION (N8N)
# ========================================

# N8N Workflow Platform Integration
N8N_BASE_URL=http://localhost:5678
N8N_WEBHOOK_URL=http://localhost:5678/webhook
N8N_API_KEY=your-n8n-api-key
N8N_WEBHOOK_SECRET=your-n8n-webhook-secret

# ========================================
# 10. AI / CHATBOT SERVICES
# ========================================

# Ollama Local LLM
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_URL=http://localhost:11434
OLLAMA_MODEL=llama3

# OpenAI API (for future AI features)
OPENAI_API_KEY=sk-your-openai-api-key

# Google AI Studio
GOOGLE_AI_STUDIO_API_KEY=your-google-ai-studio-key

# Chatwoot Customer Support
CHATWOOT_SECRET=your-chatwoot-secret
CHATWOOT_API_KEY=your-chatwoot-api-key
CHATWOOT_INBOX_ID=your-inbox-id

# ========================================
# 11. MONITORING & OBSERVABILITY
# ========================================

# Sentry Error Tracking
NEXT_PUBLIC_SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ORG=gangrun-printing
SENTRY_PROJECT=gangrun-printing
SENTRY_AUTH_TOKEN=your-sentry-auth-token

# Google Analytics 4
NEXT_PUBLIC_GA_MEASUREMENT_ID=G-YLYGZLTTM1
GOOGLE_ANALYTICS_4_PROPERTY_ID=your-ga4-property-id

# Performance Monitoring
NEXT_PUBLIC_ENABLE_PERFORMANCE_MONITOR=false

# Grafana Monitoring Stack
GRAFANA_ADMIN_PASSWORD=your-grafana-password
GRAFANA_SECRET_KEY=your-grafana-secret
GRAFANA_DB_PASSWORD=your-grafana-db-password

# ========================================
# 12. PUSH NOTIFICATIONS
# ========================================

# Web Push VAPID Keys (for browser push notifications)
NEXT_PUBLIC_VAPID_PUBLIC_KEY=your-vapid-public-key
VAPID_PRIVATE_KEY=your-vapid-private-key
VAPID_SUBJECT=mailto:admin@gangrunprinting.com

# ========================================
# 13. SEO & MARKETING AUTOMATION
# ========================================

# Google Search Console API
GOOGLE_SEARCH_CONSOLE_CLIENT_ID=your-gsc-client-id
GOOGLE_SEARCH_CONSOLE_CLIENT_SECRET=your-gsc-client-secret
GOOGLE_SEARCH_CONSOLE_REFRESH_TOKEN=your-gsc-refresh-token

# Google PageSpeed Insights API
GOOGLE_PAGESPEED_API_KEY=your-pagespeed-api-key

# SEO Brain Telegram Notifications
SEO_BRAIN_TELEGRAM_BOT_TOKEN=your-telegram-bot-token
TELEGRAM_ADMIN_CHAT_ID=your-telegram-chat-id

# Exchange Rate API (for international pricing)
EXCHANGE_RATE_API_KEY=your-exchange-rate-api-key

# ========================================
# 14. TESTING & DEVELOPMENT
# ========================================

# Playwright E2E Testing
PLAYWRIGHT_TEST_BASE_URL=http://localhost:3020

# Bundle Analyzer (enable with ANALYZE=true npm run build)
ANALYZE=false

# CI Environment Detection
CI=false

# Next.js Runtime (nodejs | edge)
NEXT_RUNTIME=nodejs

# ========================================
# NOTES
# ========================================
#
# CRITICAL: Environment Variable Prefixes
# - NEXT_PUBLIC_* = Exposed to browser (client-side accessible)
# - No prefix = Server-side only (secure, never sent to client)
#
# Docker Deployment:
# - Port 3020 (external) maps to 3002 (internal container)
# - Database uses dedicated PostgreSQL container on port 5435
# - MinIO uses dedicated container on ports 9002/9102
# - Redis uses dedicated container on port 6302
#
# Security Best Practices:
# - NEVER commit actual credentials to git
# - Use strong random strings for secrets (min 32 chars)
# - Rotate API keys regularly
# - Use sandbox/test mode for payment providers in development
#
# For more information, see:
# - /docs/CRITICAL-FIXES-SHIPPING-PAYMENTS-2025-10-18.md
# - /docs/BMAD-ROOT-CAUSE-ANALYSIS-SHIPPING-PAYMENTS-2025-10-18.md
# - /CLAUDE.md (project instructions)
